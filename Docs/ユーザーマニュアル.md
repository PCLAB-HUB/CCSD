# Claude Code Settings Dashboard ユーザーマニュアル

**バージョン**: 1.0
**最終更新**: 2026年1月30日

---

## 目次

1. [はじめに](#はじめに)
2. [画面構成](#画面構成)
3. [基本操作](#基本操作)
4. [機能詳細](#機能詳細)
5. [キーボードショートカット](#キーボードショートカット)
6. [トラブルシューティング](#トラブルシューティング)

---

## はじめに

Claude Code Settings Dashboard (CCSD) は、Claude Code の設定ファイルを一元管理するデスクトップアプリケーションです。

### 管理対象ファイル

| ファイル/フォルダ | 形式 | 用途 |
|------------------|------|------|
| `~/.claude/CLAUDE.md` | Markdown | グローバル設定・メモリ |
| `~/.claude/settings.json` | JSON | アプリケーション設定 |
| `~/.claude/skills/*/SKILL.md` | YAML+MD | スキル定義 |
| `~/.claude/commands/*.md` | Markdown | カスタムコマンド |
| `~/.claude/agents/categories/*/` | YAML+MD | エージェント定義（131ファイル） |
| `~/.claude/config/*.json` | JSON | 通知設定 |

### 起動方法

```bash
# 開発モード
npm run tauri dev

# ビルド済みアプリ
# macOS: アプリケーションから起動
# Windows: インストーラーから起動
```

---

## 画面構成

```
┌──────────────────────────────────────────────────────────────────┐
│ ヘッダー (検索バー、ツールバー)                                    │
├──────────────┬───────────────────────────────────────────────────┤
│              │ タブバー (複数ファイル切り替え)                     │
│ サイドバー    │ ──────────────────────────────────────────────── │
│              │                                                   │
│ ・お気に入り  │ メインエリア                                      │
│ ・ファイル    │ (Monaco Editor / プレビュー)                      │
│  ツリー      │                                                   │
│              │                                                   │
├──────────────┴───────────────────────────────────────────────────┤
│ ステータスバー / リンターパネル                                     │
└──────────────────────────────────────────────────────────────────┘
```

### ヘッダー

- **CCSD ロゴ**: アプリタイトル
- **ステータスバッジ**: 未保存の変更・保存成功/失敗の表示
- **検索バー**: ファイル名・内容を横断検索
- **ツールバー**: 各種操作ボタン

### サイドバー

- **お気に入りリスト**: ピン留めしたファイルへのクイックアクセス
- **ファイルツリー**: `~/.claude/` 配下の全ファイルを階層表示
- **幅調整**: 境界線をドラッグして幅を変更可能（200px〜500px）

### メインエリア

- **タブバー**: 開いているファイルをタブで管理
- **Monaco Editor**: シンタックスハイライト付きのコードエディタ
- **Markdownプレビュー**: リアルタイムプレビュー表示（分割表示）

---

## 基本操作

### ファイルを開く

1. **ファイルツリーから選択**: サイドバーのファイル名をクリック
2. **検索から開く**: ヘッダーの検索バーで検索し、結果をクリック
3. **お気に入りから開く**: ピン留めしたファイルをクリック

### ファイルを編集する

1. エディタ内で直接編集
2. 変更があると、ヘッダーに「未保存」バッジが表示される
3. `Cmd+S`（Mac）または `Ctrl+S`（Windows）で保存

### 複数ファイルを同時に開く

- 複数のファイルを開くと、タブバーにタブが追加される
- タブをクリックして切り替え
- タブの「×」ボタンで閉じる（未保存の場合は確認ダイアログ表示）

---

## 機能詳細

### 1. 検索機能

#### グローバル検索（ヘッダー）

ファイル名とファイル内容を横断検索します。

1. ヘッダーの検索バーにキーワードを入力
2. 検索結果がドロップダウンで表示
3. 結果をクリックするとファイルが開く

#### ファイル内検索

現在開いているファイル内でキーワードを検索します。

1. 検索すると、エディタ内でマッチ箇所がハイライトされる
2. `前へ`/`次へ` ボタンでマッチ間を移動
3. マッチ数が「1 / 5」のように表示される

---

### 2. 検索＆置換

`Cmd+H`（Mac）または `Ctrl+H`（Windows）で検索＆置換パネルを開きます。

#### パネルの構成

```
┌─────────────────────────────────────────────────────────────┐
│ [▼] [🔍 検索...]         1/5    [▲][▼]  [Aa][Ab|][.*]  [×] │
│     [↻ 置換...]                 [置換] [全て置換] [元に戻す] │
│ ─────────────────────────────────────────────────────────── │
│ [▼] プレビュー (5件)                                        │
│     L12: 古いテキスト → 新しいテキスト                       │
└─────────────────────────────────────────────────────────────┘
```

#### 検索オプション

| ボタン | ショートカット | 説明 |
|--------|--------------|------|
| `Aa` | `Alt+C` | 大文字小文字を区別 |
| `Ab\|` | `Alt+W` | 単語単位で検索 |
| `.*` | `Alt+R` | 正規表現を使用 |

#### 操作方法

| 操作 | キーボード | ボタン |
|------|----------|--------|
| 次を検索 | `Enter` | `▼` |
| 前を検索 | `Shift+Enter` | `▲` |
| 現在を置換 | `Enter`（置換欄で） | `置換` |
| 全て置換 | `Shift+Enter`（置換欄で） | `全て置換` |
| 元に戻す | `Cmd+Z` / `Ctrl+Z` | `元に戻す` |
| パネルを閉じる | `Escape` | `×` |

#### プレビュー機能

置換テキストを入力すると、置換結果のプレビューが表示されます。

- 変更前: ~~古いテキスト~~ （赤取り消し線）
- 変更後: **新しいテキスト** （緑）

---

### 3. Markdownプレビュー

Markdownファイル（`.md`）を開いているときに利用可能です。

#### 有効化

1. ヘッダーの `Preview` ボタンをクリック
2. エディタが左右分割され、右側にプレビューが表示される

#### 機能

| ボタン | 説明 |
|--------|------|
| `Preview` | プレビューの表示/非表示を切り替え |
| `↻`（同期） | スクロール同期のON/OFF |
| `↗`（外部） | 別ウィンドウでプレビューを開く |

#### YAMLフロントマター

YAMLフロントマターがあるファイルでは、frontmatterが別枠で整形表示されます。

```yaml
---
name: example-agent
description: サンプルエージェント
tools: Read, Write, Edit
---
```

↓ プレビューでは表形式で表示

| プロパティ | 値 |
|-----------|-----|
| name | example-agent |
| description | サンプルエージェント |
| tools | Read, Write, Edit |

---

### 4. バックアップ＆復元

#### 自動バックアップ

ファイルを保存すると、自動的にバックアップが作成されます。

- 保存場所: `~/.claude/backups/`
- 形式: `{ファイル名}.backup.{タイムスタンプ}`
- 例: `settings.json.backup.2026-01-30T10-30-00`

#### バックアップ一覧を開く

1. ヘッダーの `バックアップ` ボタンをクリック
2. バックアップ一覧モーダルが開く

#### 復元する

1. 復元したいバックアップの `復元` ボタンをクリック
2. 確認ダイアログで `復元する` をクリック

> **注意**: 復元すると現在のファイルが上書きされます。

#### 比較する（diff）

1. バックアップの `比較` ボタンをクリック
2. 差分表示モーダルが開く
3. 追加行（緑）/削除行（赤）でハイライト表示

#### 古いバックアップ

30日以上経過したバックアップには「古い」タグが表示されます。

---

### 5. お気に入り（ピン留め）

よく使うファイルをピン留めして、すぐにアクセスできます。

#### ピン留めする

- ファイルツリーでファイルにホバーし、`☆` アイコンをクリック
- またはファイル名を右クリック → 「お気に入りに追加」

#### ピン留めを解除する

- お気に入りリストでファイルにホバーし、`×` アイコンをクリック

#### 並び替え

- お気に入りリスト内でドラッグ＆ドロップで順序を変更可能

---

### 6. 新規作成（テンプレート）

`新規作成` ボタンからテンプレートを使ってファイルを作成できます。

#### 使用可能なテンプレート

| テンプレート | 用途 |
|------------|------|
| エージェント | 新しいエージェント定義ファイル |
| スキル | 新しいスキル定義ファイル |
| コマンド | カスタムスラッシュコマンド |

#### 作成手順

1. `新規作成` ボタンをクリック
2. テンプレートを選択
3. ファイル名を入力
4. 必要な項目を編集
5. `作成` をクリック

---

### 7. インポート/エクスポート

#### エクスポート

| 方法 | 説明 |
|------|------|
| ファイルをエクスポート | 現在選択中のファイルを任意の場所に保存 |
| 全設定をZIPエクスポート | `~/.claude/` 配下の全設定をZIPにまとめて保存 |

#### インポート

1. `インポート` ボタンをクリック
2. インポートするファイルを選択
3. 上書き確認ダイアログで確認
4. インポート実行（自動でバックアップ作成）

---

### 8. リンター

ファイルの構文やスキーマをリアルタイムでチェックします。

#### チェック項目

| カテゴリ | チェック内容 |
|---------|-------------|
| YAML | 構文エラー、インデント |
| JSON | 構文エラー、形式 |
| Markdown | 基本構造 |
| スキーマ | 必須フィールド（name, description など） |

#### 重大度

| レベル | 色 | 説明 |
|--------|-----|------|
| エラー | 赤 | 必須修正 |
| 警告 | 黄 | 推奨修正 |
| 情報 | 青 | 参考情報 |

#### 操作

- エラーメッセージをクリック → 該当行にジャンプ
- `修正` ボタン → 自動修正（対応している場合）
- `全て修正` → 全ての自動修正を一括適用
- リンターON/OFF → トグルスイッチで切り替え

---

### 9. AIレビュー

Claude AI による設定ファイルのレビュー機能です。

#### 使い方

1. ファイルを開く
2. ヘッダーの `AI` ボタンをクリック
3. レビュー結果がパネルに表示される

#### レビュー内容

- 設定の改善提案
- ベストプラクティスの推奨
- 潜在的な問題の指摘

---

### 10. ダークモード

画面右上の `☀`/`🌙` アイコンでライト/ダークモードを切り替えます。

- システム設定に連動
- Monaco Editor のテーマも連動

---

### 11. 読み取り専用モード

誤編集を防止するモードです。

#### 切り替え

- ヘッダーの `編集可能` / `読取専用` ボタンをクリック

#### 動作

- 読み取り専用時はエディタで編集不可
- 保存ボタンが無効化
- ボタンが赤くハイライト表示

---

## キーボードショートカット

### グローバル

| ショートカット | 動作 |
|---------------|------|
| `Cmd+S` / `Ctrl+S` | ファイルを保存 |
| `Cmd+H` / `Ctrl+H` | 検索＆置換パネルを開く |
| `Cmd+Shift+H` | 全て置換 |

### 検索＆置換パネル

| ショートカット | 動作 |
|---------------|------|
| `Enter` | 次を検索 / 現在を置換 |
| `Shift+Enter` | 前を検索 / 全て置換 |
| `Escape` | パネルを閉じる |
| `Alt+C` | 大文字小文字区別をトグル |
| `Alt+W` | 単語単位検索をトグル |
| `Alt+R` | 正規表現をトグル |
| `Cmd+Z` / `Ctrl+Z` | 元に戻す（置換を取り消し） |

### サイドバー

| ショートカット | 動作 |
|---------------|------|
| `←` / `→` | サイドバー幅を調整（フォーカス時） |

### Monaco Editor（標準）

| ショートカット | 動作 |
|---------------|------|
| `Cmd+F` / `Ctrl+F` | エディタ内検索 |
| `Cmd+Z` / `Ctrl+Z` | 元に戻す |
| `Cmd+Shift+Z` / `Ctrl+Y` | やり直し |
| `Cmd+/` / `Ctrl+/` | 行コメント切り替え |

---

## トラブルシューティング

### ファイルが表示されない

**原因**: Tauriアプリとして起動していない

**対処**:
```bash
npm run tauri dev
```
でアプリを起動してください。

---

### 保存に失敗する

**原因**: ファイル権限の問題、または読み取り専用モード

**対処**:
1. 読み取り専用モードを解除
2. ターミナルで権限を確認:
   ```bash
   ls -la ~/.claude/
   ```
3. 必要に応じて権限を修正:
   ```bash
   chmod 644 ~/.claude/ファイル名
   ```

---

### YAMLエラーが表示される

**原因**: YAML構文エラー（インデント不正など）

**対処**:
1. リンターパネルでエラー箇所を確認
2. エラーメッセージをクリックして該当行にジャンプ
3. インデントをスペース2つに統一
4. コロンの後にスペースを入れる

**正しい例**:
```yaml
name: my-agent
description: これはエージェントです
tools:
  - Read
  - Write
```

---

### バックアップから復元できない

**原因**: バックアップファイルが破損、または元ファイルのパスが変更された

**対処**:
1. バックアップファイルのパスを確認
2. 手動でコピー:
   ```bash
   cp ~/.claude/backups/ファイル名.backup.タイムスタンプ ~/.claude/ファイル名
   ```

---

### アプリが起動しない

**対処**:
1. Node.js 18以上がインストールされているか確認
2. Rustがインストールされているか確認
3. 依存関係を再インストール:
   ```bash
   rm -rf node_modules
   npm install
   ```
4. Tauriのキャッシュをクリア:
   ```bash
   rm -rf src-tauri/target
   npm run tauri dev
   ```

---

## お問い合わせ

バグ報告や機能リクエストは GitHub Issues へお願いします。

---

*このマニュアルは Claude Code Settings Dashboard v1.0 を対象としています。*
