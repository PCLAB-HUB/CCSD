# Claude Code設定ダッシュボード 提案計画書

**作成日**: 2026年1月25日
**作成者**: プロダクト会議チーム
**バージョン**: 1.0

---

## 1. エグゼクティブサマリー

### プロジェクト概要

Claude Codeの設定ファイル（CLAUDE.md、スキル、エージェント、コマンド等）を一元管理できるスタンドアロンダッシュボードアプリケーションを開発する。

### 解決する課題

現在、ユーザーは設定を変更するたびに `~/.claude/` ディレクトリから手動でファイルを探し、個別にエディタで開いて編集している。131個のエージェントファイルから目的のものを探すのは特に困難。

### 期待される効果

- 設定変更時間の大幅短縮（推定70%削減）
- 設定ミスによるClaude Code動作不良の防止
- 設定ファイルのバックアップ・復元による安心感
- 新規ユーザーの設定カスタマイズ障壁の低減

---

## 2. 背景と課題

### 現状の設定管理フロー

```
1. ターミナル/Finderで ~/.claude/ に移動
2. 目的のサブディレクトリを探す
   - agents/categories/（10カテゴリ、131ファイル）
   - skills/（2ファイル）
   - commands/（1ファイル）
3. ファイルをエディタで開く
4. 編集・保存
5. Claude Codeで動作確認
6. 問題があれば1からやり直し
```

### ユーザーペインポイント

| 課題 | 深刻度 | 影響 |
|------|--------|------|
| ファイル探索の困難さ | 高 | 131個のエージェントから探すのに5分以上 |
| ファイル形式の複雑さ | 中 | YAML frontmatter + Markdownの理解が必要 |
| バックアップ不在 | 高 | 設定破損時に復旧不可 |
| 変更履歴なし | 中 | いつ何を変えたか追跡不可 |
| 構文エラーの発見困難 | 高 | YAMLエラーでClaude Codeが誤動作 |

### 管理対象ファイル一覧

| パス | 形式 | 件数 | 用途 |
|------|------|------|------|
| `~/.claude/CLAUDE.md` | Markdown | 1 | グローバル設定・メモリ |
| `~/.claude/settings.json` | JSON | 1 | アプリケーション設定 |
| `~/.claude/skills/*/SKILL.md` | YAML+MD | 2 | スキル定義 |
| `~/.claude/commands/*.md` | Markdown | 1 | カスタムコマンド |
| `~/.claude/agents/categories/*/` | YAML+MD | 131 | エージェント定義 |
| `~/.claude/config/*.json` | JSON | 1 | 通知設定 |

---

## 3. 製品ビジョン

### コンセプト

> 「Claude Codeのすべての設定を、一箇所で、安全に、直感的に管理する」

### ターゲットユーザー

1. **パワーユーザー**: 頻繁に設定をカスタマイズするClaude Code愛用者
2. **チームリーダー**: チーム向けの設定を管理・共有したい人
3. **新規ユーザー**: 設定カスタマイズを始めたいが方法がわからない人

### 成功指標（KPI）

| 指標 | 目標値 | 測定方法 |
|------|--------|----------|
| 設定変更時間 | 70%削減 | ユーザーテスト |
| 設定破損率 | 0件/月 | バグレポート |
| ユーザー満足度 | 4.5/5.0 | アプリ内アンケート |
| 週間アクティブユーザー | 100人 | 利用統計 |

---

## 4. 技術アーキテクチャ

### 技術スタック

| レイヤー | 技術 | 選定理由 |
|----------|------|----------|
| フレームワーク | Tauri v2 | 軽量（10MB未満）、セキュリティ重視 |
| フロントエンド | React 18 + TypeScript | 豊富なエコシステム、型安全性 |
| スタイリング | TailwindCSS | ダークモード対応が容易 |
| エディタ | Monaco Editor | VS Code同等の編集体験 |
| バックエンド | Rust | ファイルI/O安全性、高パフォーマンス |

### システム構成図

```
┌─────────────────────────────────────────────────────────┐
│                    Tauri Application                     │
├─────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────┐  │
│  │                 React Frontend                     │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────────────┐ │  │
│  │  │ Sidebar  │  │ Header   │  │    Main Area     │ │  │
│  │  │          │  │ (Search) │  │                  │ │  │
│  │  │ FileTree │  └──────────┘  │  Monaco Editor   │ │  │
│  │  │          │                │  + Preview       │ │  │
│  │  └──────────┘                └──────────────────┘ │  │
│  └───────────────────────────────────────────────────┘  │
├─────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────┐  │
│  │                  Rust Backend                      │  │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────────────┐ │  │
│  │  │ File I/O │  │  Backup  │  │     Search       │ │  │
│  │  │ Commands │  │  Manager │  │     Engine       │ │  │
│  │  └──────────┘  └──────────┘  └──────────────────┘ │  │
│  └───────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
                           │
                           ▼
              ┌─────────────────────────┐
              │    ~/.claude/           │
              │  ├── CLAUDE.md          │
              │  ├── settings.json      │
              │  ├── agents/            │
              │  ├── skills/            │
              │  ├── commands/          │
              │  └── backups/  (新規)   │
              └─────────────────────────┘
```

---

## 5. 機能要件

### 5.1 P0: 必須機能（リリース必須）

#### 1. 統合ダッシュボード

**概要**: 左サイドバーにファイルツリー、右にエディタを配置した基本レイアウト

**要件**:
- [ ] 3カラムレイアウト（サイドバー、エディタ、プレビュー）
- [ ] レスポンシブ対応（ウィンドウリサイズ）
- [ ] ドラッグでパネル幅調整

#### 2. ファイルツリー表示

**概要**: カテゴリ別の階層ツリービュー

**要件**:
- [ ] `~/.claude/` 配下の構造を反映
- [ ] カテゴリ（agents, skills, commands等）ごとにグループ化
- [ ] 展開/折りたたみ機能
- [ ] ファイルタイプ別アイコン表示
- [ ] 選択中ファイルのハイライト

#### 3. Monaco Editor統合

**概要**: VS Code同等のコードエディタ

**要件**:
- [ ] シンタックスハイライト（YAML, JSON, Markdown）
- [ ] 行番号表示
- [ ] Cmd+S で保存
- [ ] Cmd+Z / Cmd+Shift+Z で元に戻す/やり直し
- [ ] 検索・置換（Cmd+F / Cmd+H）

#### 4. 自動バックアップ

**概要**: 編集開始時に自動でバックアップを作成

**要件**:
- [ ] 編集開始時に `~/.claude/backups/{filename}_{timestamp}` に保存
- [ ] バックアップファイル一覧表示
- [ ] 選択したバックアップからの復元
- [ ] 古いバックアップの自動削除（30日以上）

#### 5. 全文検索

**概要**: ファイル名と内容を横断検索

**要件**:
- [ ] インクリメンタル検索
- [ ] ファイル名検索
- [ ] ファイル内容検索
- [ ] 検索結果のハイライト
- [ ] 結果クリックでファイルを開く

#### 6. 構文検証

**概要**: 保存前にファイル形式の検証

**要件**:
- [ ] YAML構文チェック
- [ ] JSON構文チェック
- [ ] Markdown基本構造チェック
- [ ] エラー箇所の行番号表示
- [ ] エラーメッセージの日本語化

#### 7. スキーマ検証

**概要**: 必須フィールドの存在確認

**要件**:
- [ ] `name` フィールド必須チェック（agents, skills）
- [ ] `description` フィールド必須チェック
- [ ] `tools` フィールド形式チェック（agents）
- [ ] 警告レベルの表示（エラー/警告/情報）

---

### 5.2 P1: 重要機能（v1.0に含める）

#### 8. Markdownプレビュー

**要件**:
- [ ] リアルタイムプレビュー（左右分割）
- [ ] YAMLフロントマターは別表示
- [ ] プレビュー専用ウィンドウオプション

#### 9. テンプレート機能

**要件**:
- [ ] エージェント新規作成テンプレート
- [ ] スキル新規作成テンプレート
- [ ] コマンド新規作成テンプレート
- [ ] カスタムテンプレートの追加

#### 10. エクスポート/インポート

**要件**:
- [ ] 単一ファイルのエクスポート
- [ ] 全設定のZIPエクスポート
- [ ] インポート時の上書き確認
- [ ] インポート前の自動バックアップ

#### 11. diff表示

**要件**:
- [ ] 変更前後の差分表示
- [ ] 追加行（緑）/削除行（赤）のハイライト
- [ ] 行単位の差分表示

#### 12. ダークモード

**要件**:
- [ ] システム設定に連動
- [ ] 手動切り替えオプション
- [ ] エディタテーマも連動

#### 13. 読み取り専用モード

**要件**:
- [ ] グローバルトグル
- [ ] 編集不可時の視覚的表示
- [ ] 誤操作防止

---

### 5.3 P2: 将来機能（v2.0）

| 機能 | 概要 |
|------|------|
| 設定プリセット | 用途別設定セットの切り替え |
| Git連携 | バージョン管理統合 |
| プラグインシステム | カスタムファイルタイプ対応 |
| 一括置換 | 正規表現対応の全ファイル置換 |

### 5.4 P3: 将来構想（v3.0以降）

| 機能 | 概要 |
|------|------|
| コミュニティテンプレート | 人気設定のマーケットプレイス |
| API連携 | 外部ツールとの統合 |
| チーム共有 | 設定の同期機能 |

---

## 6. 画面設計

### ワイヤーフレーム

```
┌────────────────────────────────────────────────────────────────┐
│  Claude Code Settings Dashboard              [Search...]  ⚙ ☾  │
├────────────┬───────────────────────────────────────────────────┤
│            │                                                    │
│  📁 agents │  CLAUDE.md                              [Preview] │
│    ├─ 01-* │  ──────────────────────────────────────────────── │
│    ├─ 02-* │  # Claude Code 設定                               │
│    └─ ...  │                                                    │
│  📁 skills │  ## 言語設定                                       │
│    ├─ auto │  - 日本語で回答...                                 │
│    └─ docs │                                                    │
│  📁 commands│  ## エージェント/スキル                           │
│  📄 CLAUDE │  - ユーザー指定がない場合...                       │
│  📄 settings│                                                   │
│            │                                                    │
├────────────┴───────────────────────────────────────────────────┤
│  ✓ Saved  │  Line 12, Col 5  │  UTF-8  │  Markdown            │
└────────────────────────────────────────────────────────────────┘
```

### 画面遷移図

```
[起動] → [ダッシュボード（メイン）]
              │
              ├── [ファイル選択] → [エディタ表示]
              │                          │
              │                          ├── [保存] → [検証] → [成功/エラー]
              │                          └── [プレビュー表示]
              │
              ├── [検索] → [結果一覧] → [ファイル選択]
              │
              ├── [新規作成] → [テンプレート選択] → [エディタ]
              │
              ├── [バックアップ] → [履歴一覧] → [復元/削除]
              │
              └── [設定] → [テーマ切替/読取専用モード]
```

---

## 7. 開発ロードマップ

### Phase 1: 基盤構築（Week 1）

- [ ] Tauriプロジェクト初期化
- [ ] React + TypeScript + TailwindCSS設定
- [ ] 基本レイアウトコンポーネント
- [ ] ファイルツリーコンポーネント

### Phase 2: コア機能（Week 2）

- [ ] Rust側ファイルI/O実装
- [ ] Monaco Editor統合
- [ ] ファイル読み込み・保存
- [ ] 自動バックアップ機能

### Phase 3: 検索・検証（Week 3）

- [ ] 全文検索エンジン
- [ ] YAML/JSON構文検証
- [ ] スキーマ検証
- [ ] エラー表示UI

### Phase 4: 追加機能・仕上げ（Week 4）

- [ ] Markdownプレビュー
- [ ] テンプレート機能
- [ ] エクスポート/インポート
- [ ] ダークモード
- [ ] diff表示
- [ ] 読み取り専用モード
- [ ] テスト・バグ修正

---

## 8. リスクと対策

### 技術リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| Tauri v2の安定性 | 中 | 公式ドキュメントに準拠、コミュニティ活用 |
| Monaco Editorのバンドルサイズ | 低 | 必要な言語のみバンドル |
| ファイル権限エラー | 中 | 適切なエラーハンドリング、ユーザーガイド |

### スケジュールリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 機能スコープの拡大 | 高 | P0/P1の優先順位を厳守 |
| 予期せぬバグ | 中 | 段階的リリース、ベータテスト |

### セキュリティリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 設定ファイルの破損 | 高 | 自動バックアップ必須化 |
| 機密情報の漏洩 | 低 | ローカル専用、ネットワーク通信なし |

---

## 9. PM会議で決定した事項

### 参加者の視点

| PM | 視点 | 主な貢献 |
|----|------|----------|
| 佐藤 美咲 | UX/ユーザビリティ | 直感的なUI設計、検索機能 |
| 田中 健一 | 技術的実現性 | 構文検証、Monaco Editor選定 |
| 山田 翔太 | 拡張性/将来性 | プラグインアーキテクチャ、将来ロードマップ |
| 鈴木 理恵 | セキュリティ/信頼性 | 自動バックアップ、読み取り専用モード |

### 全員一致で決定した機能

1. 統合ダッシュボード（P0）
2. 自動バックアップ（P0）
3. 全文検索（P0）
4. 構文検証（P0）

### 議論の末に決定した機能

1. プレビュー機能（P1）- UXの観点から重要と判断
2. Git連携（P2）- 工数を考慮し将来バージョンに延期

---

## 10. 付録

### A. 管理対象ファイル詳細

#### エージェントカテゴリ一覧

| カテゴリ | ファイル数 | 例 |
|----------|------------|-----|
| 01-core-development | 11 | frontend-developer, backend-developer |
| 02-language-specialists | 27 | python-pro, javascript-pro |
| 03-infrastructure | 15 | kubernetes-specialist, devops-engineer |
| 04-quality-security | 15 | code-reviewer, qa-expert |
| 05-data-ai | 13 | data-scientist, ml-engineer |
| 06-developer-experience | 14 | documentation-engineer |
| 07-specialized-domains | 13 | blockchain-developer, game-developer |
| 08-business-product | 12 | product-manager, business-analyst |
| 09-meta-orchestration | 10 | multi-agent-coordinator |
| 10-research-analysis | 7 | data-researcher, market-researcher |

### B. ファイル形式仕様

#### YAML Frontmatter + Markdown（エージェント/スキル）

```yaml
---
name: agent-name
description: Agent description here
tools: Read, Write, Edit, Bash, Glob, Grep
---

# Agent Content

Markdown content goes here...
```

#### JSON（設定ファイル）

```json
{
  "env": {
    "KEY": "value"
  },
  "enabledPlugins": {
    "plugin-name": true
  }
}
```

### C. 参考リンク

- [Tauri v2 Documentation](https://v2.tauri.app/)
- [React Documentation](https://react.dev/)
- [Monaco Editor](https://microsoft.github.io/monaco-editor/)
- [TailwindCSS](https://tailwindcss.com/)

---

*本提案計画書は、プロダクトマネージャー会議の議論結果に基づいて作成されました。*
